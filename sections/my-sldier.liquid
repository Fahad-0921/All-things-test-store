
<section class="ingredients-section" id="main-wrappper-{{ section.id }}">
  <h2>Powerful, Clean,<br>and Safe Ingredients</h2>

  <div class="ingredients-container" id="visible-container">
    
    <!-- Left Column Ingredients -->
    <div class="ingredient-column">
      {% for block in section.blocks %}
        {% if block.type == "left_ingredient" %}
          <div class="ingredient">
            <img src="{{ block.settings.ingredient_image | img_url: 'medium' }}" alt="{{ block.settings.ingredient_title }}">
            <div class="ingredient-text">
              <h3>{{ block.settings.ingredient_title }}</h3>
              <p>{{ block.settings.ingredient_description }}</p>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Center Product Image -->
    <div class="product-image">
      <img src="{{ section.settings.main_product_imagee | img_url: 'medium' }}" alt="Betterbrand Product">
    </div>

    <!-- Right Column Ingredients -->
    <div class="ingredient-column">
      {% for block in section.blocks %}
        {% if block.type == "right_ingredient" %}
          <div class="ingredient">
            <img src="{{ block.settings.ingredient_image | img_url: 'medium' }}" alt="{{ block.settings.ingredient_title }}">
            <div class="ingredient-text">
              <h3>{{ block.settings.ingredient_title }}</h3>
              <p>{{ block.settings.ingredient_description }}</p>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

  </div>




  
  <!-- =================================================== -->
  
  <div class="ingredients-container ingredients-wrapper" id="hidden-container">  
    <!-- Center Product Image -->
   <div class="product-image">
      <img src="{{ section.settings.main_product_imagee | img_url: 'medium' }}" alt="Betterbrand Product">
    </div>


    <div class="ingredients-slider">
      <!-- <button class="slider-prev">←</button> -->
      <div class="slider-wrapper">
        
         <!-- Left Column Ingredients -->
    <div class="ingredient-column">
      {% for block in section.blocks %}
          <div class="ingredient">
            <img src="{{ block.settings.ingredient_image | img_url: 'medium' }}" alt="{{ block.settings.ingredient_title }}">
            <div class="ingredient-text">
              <h3>{{ block.settings.ingredient_title }}</h3>
              <p>{{ block.settings.ingredient_description }}</p>
            </div>
          </div>
      {% endfor %}
    </div>
        
      </div>
    </div>

    <div  class="slid-btns">
      <button class="slider-prev">←</button>
      <button class="slider-next">→</button>
    </div>
    
  </div>
  
</section>

<style>

#hidden-container{
  display: none;
}


.ingredients-section {
  background-color: #f0f8e7;
  padding: 50px 20px;
  text-align: center;
}

.ingredients-section h2 {
  font-size: 48px;
  font-weight: bold;
  margin-bottom: 100px;
  color:{{ section.settings.main_head_text_color }} ;
}

.ingredients-container {
  display: flex;
  justify-content: center;
  align-items: start;
  gap: 40px;
  max-width: 1400px;
  margin: 0 auto;
}

.ingredient-column {
  display: flex;
  flex-direction: column;
  gap: 20px;
  flex: 1;
}

.ingredient {
  display: flex;
  align-items: flex-start;
  gap: 15px;
  text-align: left;
  min-height: 120px;
}

.ingredient img {
  width: 100px;
  height: auto;
}

.ingredient-text h3 {
  font-size: 1.2em;
  font-weight: bold;
color:{{ section.settings.head_text_color }} ;
  margin: 0;
}

.ingredient-text p {
  font-size: 16px;
color:{{ section.settings.desc_text_color }} ;
  margin: 5px 0 0;
}

.product-image {
  width: 500px;
  text-align: center;
  flex-shrink: 0;
}

.product-image img {
  width: 100%;
  height: auto;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
}

/* Slider styles for 1020px and below */
@media (max-width: 1020px) {

#hidden-container{
  display: block;
}


#visible-container{
  display: none;
}
  
  .ingredients-container {
    /* flex-direction: column;
    align-items: center; */
    overflow: hidden;
  }

  .product-image {
    width: 100%;
    margin-bottom: 20px;
  }

  .ingredients-slider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    overflow: hidden;
  }


  .ingredient-column{
    flex-direction: row;
  }

  .slider-wrapper {
    display: flex;
    transition: transform 0.5s ease;
    width: 100%;
    gap: 50px;
  }

/* .ingredient {
    flex: 1 0 45%;
    text-align: center;
    border: 1px solid #000;
    padding: 10px 10px 20px;
    align-items: flex-start;
  }
 */
  .ingredient {
    width: 50%; /* Default width for 2 slides */
  /  flex: 0 0 50%;
    padding: 10px;
    box-sizing: border-box;
  }

  .slider-prev,
  .slider-next {
    background: #2f2f2f;
    color: white;
    font-size: 20px;
    padding: 10px;
    cursor: pointer;
    border: none;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1;
  }

  .slider-prev {
    left: 10px;
    top: 40px;
    position: relative;
  }

  .slider-next {
    right: 10px;
    top: 40px;
    position: relative;
  }

  .slid-btns{
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-align: center;
  }

  
  /* ============ */
.ingredient img {
  width: 70px;
}

.ingredient-text h3 {
    font-size: 15px;
  text-align: left;
}  

.ingredient-text p {
    font-size: 12px;
  text-align: left;
}
  
}



  
  @media (max-width: 760px) {
    .ingredient {
      width: 100%; /* Full width for 1 slide */
      flex: 0 0 100%;
    }
  }
  
 
</style>

{% style %}
  
  #main-wrappper-{{ section.id }} {
     background-color: {{ section.settings.background_color }};
    
    padding-top:{{ section.settings.desktop_padding_top }}px;
    padding-bottom:{{ section.settings.desktop_padding_bottom }}px;
    margin-top:{{ section.settings.desktop_margin_top }}px;
    margin-bottom:{{ section.settings.desktop_margin_bottom }}px;
    
  } 


@media (max-width: 1020px) {

#main-wrappper-{{ section.id }} {

  padding-top:{{ section.settings.mobile_padding_top }}px;
    padding-bottom:{{ section.settings.mobile_padding_bottom }}px;
    margin-top:{{ section.settings.mobile_margin_top }}px;
    margin-bottom:{{ section.settings.mobile_margin_bottom }}px;
  
}
}
 
{% endstyle %}




<script>
document.addEventListener("DOMContentLoaded", function() {
  const hiddenContainer = document.querySelector("#hidden-container");
  const sliderWrapper = hiddenContainer.querySelector(".slider-wrapper");
  const prevButton = hiddenContainer.querySelector(".slider-prev");
  const nextButton = hiddenContainer.querySelector(".slider-next");

  let currentIndex = 0;
  let slidesToShow = window.innerWidth <= 760 ? 1 : 2; // Display 2 slides by default, 1 on smaller screens
  let slides = hiddenContainer.querySelectorAll(".ingredient");
  
  // Function to update slide width and transform position
  function updateSlider() {
    slidesToShow = window.innerWidth <= 760 ? 1 : 2;
    const slideWidth = 50 / slidesToShow; // Width of each slide
    slides.forEach(slide => slide.style.flex = `0 0 ${slideWidth}%`);
    sliderWrapper.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
  }

  function updateSliderPosition() {
    const slideWidth = 100 / slidesToShow;
    sliderWrapper.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
  }

  nextButton.addEventListener("click", () => {
    if (currentIndex < slides.length - slidesToShow) {
      currentIndex += slidesToShow;
      updateSliderPosition();
    }
  });

  prevButton.addEventListener("click", () => {
    if (currentIndex > 0) {
      currentIndex -= slidesToShow;
      updateSliderPosition();
    }
  });

  // Resize event to update slidesToShow and re-calculate slide width
  window.addEventListener("resize", () => {
    updateSlider();
  });

  // Initial setup
  updateSlider();
});
</script>

{% schema %}
{
  "name": "Ingredients Section",
  "settings": [
    {
      "type": "image_picker",
      "id": "main_product_imagee",
      "label": "Main Product Image",
      "info": "Upload the main image displayed in the center."
    },
    {
      "type": "color",
      "id": "main_head_text_color",
      "label": "Main Heading Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "head_text_color",
      "label": "Ingredient Heading Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "desc_text_color",
      "label": "Ingredient Description Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f0f8e7"
    },
    {
      "type": "range",
      "id": "desktop_padding_top",
      "label": "Desktop Padding Top",
      "default": 50,
      "min": 0,
      "max": 100
    },
    {
      "type": "range",
      "id": "desktop_padding_bottom",
      "label": "Desktop Padding Bottom",
      "default": 50,
      "min": 0,
      "max": 100
    },
    {
      "type": "range",
      "id": "desktop_margin_top",
      "label": "Desktop Margin Top",
      "default": 20,
      "min": 0,
      "max": 100
    },
    {
      "type": "range",
      "id": "desktop_margin_bottom",
      "label": "Desktop Margin Bottom",
      "default": 20,
      "min": 0,
      "max": 100
    },
    {
      "type": "range",
      "id": "mobile_padding_top",
      "label": "Mobile Padding Top",
      "default": 20,
      "min": 0,
      "max": 100
    },
    {
      "type": "range",
      "id": "mobile_padding_bottom",
      "label": "Mobile Padding Bottom",
      "default": 20,
      "min": 0,
      "max": 100
    },
    {
      "type": "range",
      "id": "mobile_margin_top",
      "label": "Mobile Margin Top",
      "default": 10,
      "min": 0,
      "max": 50
    },
    {
      "type": "range",
      "id": "mobile_margin_bottom",
      "label": "Mobile Margin Bottom",
      "default": 10,
      "min": 0,
      "max": 50
    }
  ],
  "blocks": [
    {
      "type": "left_ingredient",
      "name": "Left Ingredient",
      "settings": [
        {
          "type": "image_picker",
          "id": "ingredient_image",
          "label": "Ingredient Image"
        },
        {
          "type": "text",
          "id": "ingredient_title",
          "label": "Ingredient Title"
        },
        {
          "type": "textarea",
          "id": "ingredient_description",
          "label": "Ingredient Description"
        }
      ]
    },
    {
      "type": "right_ingredient",
      "name": "Right Ingredient",
      "settings": [
        {
          "type": "image_picker",
          "id": "ingredient_image",
          "label": "Ingredient Image"
        },
        {
          "type": "text",
          "id": "ingredient_title",
          "label": "Ingredient Title"
        },
        {
          "type": "textarea",
          "id": "ingredient_description",
          "label": "Ingredient Description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Ingredients Section",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}
